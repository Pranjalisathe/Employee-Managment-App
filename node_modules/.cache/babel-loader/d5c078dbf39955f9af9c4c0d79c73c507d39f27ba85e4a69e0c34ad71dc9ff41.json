{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport Header from \"./Header.vue\";\nexport default {\n  name: \"Home2\",\n  components: {\n    Header\n  },\n  data() {\n    return {\n      employees: [],\n      activeStatus: \"false\",\n      pagecount: \"1\",\n      limitcount: 10,\n      employeeCnt: \"\",\n      employeePageCnt: \"\"\n    };\n  },\n  async mounted() {\n    let user = localStorage.getItem(\"user-info\");\n    if (!user) {\n      this.$router.push({\n        name: \"Home2\"\n      });\n    }\n\n    //   let result=await axios.get(\"http://localhost:3000/users\");\n    console.warn(this.pagecount);\n    console.log(\"mounted\");\n    let result = await axios.get(\"http://localhost:3000/usersPagination?page=\" + this.pagecount + \"&limit=\" + this.limitcount);\n    let resultCount = await axios.get(\" http://localhost:3000/usersPaginationCount?page\" + this.pagecount + \"&limit=\" + this.limitcount);\n    this.employees = result.data;\n    this.employeeCnt = resultCount.data.count;\n    let remainder = this.employeeCnt % this.limitcount;\n    let rem = (this.employeeCnt - remainder) / this.limitcount;\n    this.employeePageCnt = remainder === 0 ? rem : rem + 1;\n    console.log(\"api data\", this.employeeCnt, this.limitcount, this.employeePageCnt, remainder, this.activeStatus);\n  },\n  methods: {\n    async fetchData(data) {\n      this.pagecount = data;\n      this.activeStatus = \"true\";\n      console.log(\"dfs\", data, this.pagecount, this.ac);\n      let result = await axios.get(\"http://localhost:3000/usersPagination?page=\" + this.pagecount + \"&limit=\" + this.limitcount);\n      this.employees = result.data;\n    }\n  }\n};","map":{"version":3,"mappings":";AAiEA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,cAAc;AACjC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAC,OAAO;MACpBC,SAAS,EAAE,GAAG;MACdC,UAAU,EAAC,EAAE;MACbC,WAAW,EAAC,EAAE;MACdC,eAAe,EAAC;IAClB,CAAC;EACH,CAAC;EAED,MAAMC,OAAO,GAAG;IACd,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC5C,IAAI,CAACF,IAAI,EAAE;MACT,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QAAEd,IAAI,EAAE;MAAQ,CAAC,CAAC;IACtC;;IAEA;IACAe,OAAO,CAACC,IAAI,CAAC,IAAI,CAACX,SAAS,CAAC;IAC3BU,OAAO,CAACE,GAAG,CAAC,SAAS,CAAC;IACvB,IAAIC,MAAK,GAAI,MAAMpB,KAAK,CAACqB,GAAG,CAAC,6CAA4C,GAAG,IAAI,CAACd,SAAQ,GAAI,SAAS,GAAC,IAAI,CAACC,UAAU,CAAC;IACvH,IAAIc,WAAU,GAAI,MAAMtB,KAAK,CAACqB,GAAG,CAAC,kDAAkD,GAAC,IAAI,CAACd,SAAQ,GAAI,SAAS,GAAC,IAAI,CAACC,UAAU,CAAC;IAEhI,IAAI,CAACH,SAAQ,GAAIe,MAAM,CAAChB,IAAI;IAC5B,IAAI,CAACK,WAAW,GAACa,WAAW,CAAClB,IAAI,CAACmB,KAAK;IACvC,IAAIC,SAAS,GAAC,IAAI,CAACf,WAAW,GAAC,IAAI,CAACD,UAAU;IAC9C,IAAIiB,GAAG,GAAC,CAAC,IAAI,CAAChB,WAAW,GAACe,SAAS,IAAE,IAAI,CAAChB,UAAU;IACpD,IAAI,CAACE,eAAe,GAAEc,SAAS,KAAG,CAAC,GAACC,GAAG,GAACA,GAAG,GAAC,CAAE;IAC9CR,OAAO,CAACE,GAAG,CAAC,UAAU,EAAE,IAAI,CAACV,WAAW,EAAC,IAAI,CAACD,UAAU,EAAC,IAAI,CAACE,eAAe,EAACc,SAAS,EAAC,IAAI,CAAClB,YAAY,CAAC;EAC5G,CAAC;EAGDoB,OAAO,EAAE;IACP,MAAMC,SAAS,CAACvB,IAAI,EAAE;MAClB,IAAI,CAACG,SAAQ,GAAIH,IAAI;MACrB,IAAI,CAACE,YAAY,GAAC,MAAK;MACvBW,OAAO,CAACE,GAAG,CAAC,KAAK,EAAEf,IAAI,EAAC,IAAI,CAACG,SAAS,EAAC,IAAI,CAACqB,EAAE,CAAC;MAClD,IAAIR,MAAK,GAAI,MAAMpB,KAAK,CAACqB,GAAG,CAAC,6CAA4C,GAAG,IAAI,CAACd,SAAQ,GAAI,SAAS,GAAC,IAAI,CAACC,UAAU,CAAC;MACxH,IAAI,CAACH,SAAQ,GAAIe,MAAM,CAAChB,IAAI;IAE5B;EAEF;AACF,CAAC","names":["axios","Header","name","components","data","employees","activeStatus","pagecount","limitcount","employeeCnt","employeePageCnt","mounted","user","localStorage","getItem","$router","push","console","warn","log","result","get","resultCount","count","remainder","rem","methods","fetchData","ac"],"sourceRoot":"","sources":["/home/pranjalisathe/Desktop/employeeDetailsApi-main/src/components/Home2.vue"],"sourcesContent":["<template>\n  <Header />\n  <h1>Home2</h1>\n  <!-- <a>Button</a> -->\n    <!-- <select name=\"role\" type=\"Integer\" v-model=\"this.limitcount\"  id=\"lmtCnt\">\n            <option value=\"Select Role\" selected>Select employees on page*</option>\n            <option value=\"5\">5</option>\n            <option value=\"10\">10</option>\n</select> -->\n  <br />\n  <!-- <a class=\"link\"  href=\"#\" value=\"2\" >2</a> -->\n <!-- <button type=\"button\" style=\"  color: black;\n  \n  margin: 6px;\n  text-decoration: none; display: inline-block;\" @click=\"fetchData(1)\">1</button>\n  <button type=\"button\" @click=\"fetchData(2)\">2</button>\n  \n  <button type=\"button\" @click=\"fetchData(3)\">3</button>\n  <button type=\"button\" @click=\"fetchData(4)\">4</button>\n  <hr> -->\n <!-- <li class=\"paginationButtons\" v-for=\"item of employeePageCnt\" >\n \n  <button type=\"button\" @click=\"fetchData(item)\">{{item}}</button>\n \n </li> -->\n<div class=\"pagination\" style=\"display:inline; \" v-for=\"item of employeePageCnt\">\n  \n  <a :class=\"{link:activeStatus}\" style=\"overflow:hidden;\" @click=\"fetchData(item)\" >{{item}}</a>\n\n</div>\n\n\n  <h2>Employees Details using pagination</h2>\n  <table border=\"1\">\n    <tr class=\"title\">\n      <td>ID</td>\n      <td>NAME</td>\n      <td>EMAIL</td>\n      <td>ROLE</td>\n      <td>CREATED AT</td>\n      <td>UPDATED AT</td>\n      <td>ACTIONS</td>\n\n      <!-- <h1>dhbsjbh</h1> -->\n    </tr>\n    <tr class=\"information\" v-for=\"item in employees\" :key=\"item.id\" >\n      <td v-if=\"item.status === 1\" >{{ item.id }}</td>\n      <td v-if=\"item.status === 1\">{{ item.name }}</td>\n      <td v-if=\"item.status === 1\">{{ item.email }}</td>\n      <td v-if=\"item.status === 1\">{{ item.role }}</td>\n      <td v-if=\"item.status === 1\">{{ item.createdAt }}</td>\n      <td v-if=\"item.status === 1\">{{ item.updatedAt }}</td>\n\n     <td v-if=\"item.status===1\">\n<a id=\"updatebtn\"><router-link :to=\"'/update/'+item.id\"><i class=\"fas fa-edit\" style=\"color:black;padding:10px;margin:5px;height:25px;\" /></router-link></a>\n<!-- <a id=\"updatebtn\"><router-link :to=\"'/add1/'+item.id\"><i class=\"fas fa-edit\" style=\"color:black;padding:10px;margin:5px;height:25px\" /></router-link></a> -->\n<!-- <td v-if=\"item.status===1\"><button id=\"updatebtn\"><router-link :to=\"'/add1/'+item.id\">Update</router-link></button> -->\n<a v-if=\"item.status===1\" id=\"deletebtn\"><router-link :to=\"'/delete/'+item.id\"><i class=\"fas fa-trash\" style=\"color:black;padding:10px;margin:5px;height:25px\"/></router-link></a>\n</td>\n\n      <!-- <h1>dhbsjbh</h1> -->\n    </tr>\n  </table>\n</template>\n<script>\nimport axios from \"axios\";\nimport Header from \"./Header.vue\";\nexport default {\n  name: \"Home2\",\n  components: {\n    Header,\n  },\n  data() {\n    return {\n      employees: [],\n      activeStatus:\"false\",\n      pagecount: \"1\",\n      limitcount:10,\n      employeeCnt:\"\",\n      employeePageCnt:\"\"\n    };\n  },\n\n  async mounted() {\n    let user = localStorage.getItem(\"user-info\");\n    if (!user) {\n      this.$router.push({ name: \"Home2\" });\n    }\n\n    //   let result=await axios.get(\"http://localhost:3000/users\");\n    console.warn(this.pagecount);\n     console.log(\"mounted\");\n    let result = await axios.get(\"http://localhost:3000/usersPagination?page=\" +this.pagecount + \"&limit=\"+this.limitcount);\n    let resultCount = await axios.get(\" http://localhost:3000/usersPaginationCount?page\"+this.pagecount + \"&limit=\"+this.limitcount);\n    \n    this.employees = result.data;\n    this.employeeCnt=resultCount.data.count;\n    let remainder=this.employeeCnt%this.limitcount;\n    let rem=(this.employeeCnt-remainder)/this.limitcount;\n    this.employeePageCnt=(remainder===0?rem:rem+1);\n    console.log(\"api data\", this.employeeCnt,this.limitcount,this.employeePageCnt,remainder,this.activeStatus);\n  },\n \n \n  methods: {\n    async fetchData(data) {\n        this.pagecount = data;\n        this.activeStatus=\"true\"\n        console.log(\"dfs\", data,this.pagecount,this.ac);\n     let result = await axios.get(\"http://localhost:3000/usersPagination?page=\" +this.pagecount + \"&limit=\"+this.limitcount);\n    this.employees = result.data;\n      \n    },\n    \n  },\n};\n</script>\n<style>\n\n\n/* Pagination links */\n.pagination{\n    display:block;\n   \n}\n.pagination a {\n  color: black;\n  float: middle;\n   background-color:#ddd;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color .3s;\n}\n #paginationBtn:active{\nbackground-color:black;\n }\n\n\n/* Style the active/current link */\n\n/* Add a grey background color on mouse-over */\na:active{\n  background-color:red;\n  color:green;\n}\n.pagination a:hover:not(.active) {background-color: orange;\nborder: 02px solid black}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}