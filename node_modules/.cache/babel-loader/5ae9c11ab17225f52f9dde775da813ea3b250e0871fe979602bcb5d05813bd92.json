{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Update Page\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"testbox\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", null, \" Update Employee Form\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = (...args) => $options.sub && $options.sub(...args)),\n    class: \"update\"\n  }, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter Name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.employee.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.employee.name]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.employee.email = $event),\n    placeholder: \"Enter Email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.employee.email]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.employee.role = $event),\n    placeholder: \"Enter Role\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.employee.role]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.employee.password = $event),\n    placeholder: \"Enter password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.employee.password]]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.updateEmployee && $options.updateEmployee(...args))\n  }, \"Update Emplaoyee\")], 32 /* HYDRATE_EVENTS */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";gCAGEA,oBAAoB,YAAhB,aAAW;;EACTC,KAAK,EAAC;AAAS;gCAErBD,oBAA8B,YAA1B,uBAAqB;;;;6DALzBE,aAAUC,oBAEVC,UAAoB,EACnBJ,oBAmBK,OAnBLK,UAmBK,GAlBNL,oBAiBO;IAjBAM,QAAM,yCAAEC,qCAAG;IAAEN,KAAK,EAAC;MAC1BO,UAA8B,kBAC5BR,oBAKE;IAJAS,IAAI,EAAC,MAAM;IACXC,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,YAAY;+DACfC,cAAQ,CAACF,IAAI;iDAAbE,cAAQ,CAACF,IAAI,qBAExBV,oBAAwE;IAAjES,IAAI,EAAC,MAAM;+DAAUG,cAAQ,CAACC,KAAK;IAAEF,WAAW,EAAC;iDAA5BC,cAAQ,CAACC,KAAK,qBAC1Cb,oBAAsE;IAA/DS,IAAI,EAAC,MAAM;+DAAUG,cAAQ,CAACE,IAAI;IAAEH,WAAW,EAAC;iDAA3BC,cAAQ,CAACE,IAAI,qBACzCd,oBAIE;IAHAS,IAAI,EAAC,UAAU;+DACNG,cAAQ,CAACG,QAAQ;IAC1BJ,WAAW,EAAC;iDADHC,cAAQ,CAACG,QAAQ,KAI5Bf,oBAA2E;IAAnES,IAAI,EAAC,QAAQ;IAAMO,OAAK,yCAAET,2DAAc;KAAE,kBAAgB","names":["_createElementVNode","class","_createVNode","_component_Header","_hoisted_1","_hoisted_2","onSubmit","$options","_hoisted_3","type","name","placeholder","$data","email","role","password","onClick"],"sourceRoot":"","sources":["/home/pranjalisathe/Desktop/employeeDetailsApi-main/src/components/Update.vue"],"sourcesContent":["<template>\n  <Header />\n \n  <h1>Update Page</h1>\n   <div class=\"testbox\">\n  <form @submit=\"sub\" class=\"update\">\n  <h1> Update Employee Form</h1>\n    <input\n      type=\"text\"\n      name=\"name\"\n      placeholder=\"Enter Name\"\n      v-model=\"employee.name\"\n    />\n    <input type=\"text\" v-model=\"employee.email\" placeholder=\"Enter Email\" />\n    <input type=\"text\" v-model=\"employee.role\" placeholder=\"Enter Role\" />\n    <input\n      type=\"password\"\n      v-model=\"employee.password\"\n      placeholder=\"Enter password\"\n    />\n\n    <button type=\"submit\" v-on:click=\"updateEmployee\">Update Emplaoyee</button>\n  </form>\n  </div>\n</template>\n<script>\nimport Header from \"./Header.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"Update\",\n  components: {\n    Header,\n  },\n  data() {\n    return {\n      employee: {\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        password: \"\",\n      },\n      error: [],\n    };\n  },\n  methods: {\n    async updateEmployee() {\n      console.warn( this.employee)\n      const result = await axios.put(\n        \"http://localhost:3000/usersById/\" + this.$route.params.id,\n        {\n          name: this.employee.name,\n          email: this.employee.email,\n          role: this.employee.role,\n          password: this.employee.password,\n        }\n      );\n      if (result.status == 200 && this.error.length == 0) {\n        this.$router.push({ name: \"Home\" });\n        alert(\"Employee updated successfully!\");\n      }\n    },\n    sub(e) {\n      this.error = [];\n\n      if (\n        !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n          this.employee.email\n        )\n      ) {\n        this.error.push(\"valid email format\");\n      }\n\n      if (!this.employee.email) {\n        this.error.push(\"Email\");\n      }\n      if (!this.employee.role) {\n        this.error.push(\"Role\");\n      }\n      if (!this.employee.password) {\n        this.error.push(\"Password\");\n      }\n      if (this.error.length != 0) {\n        alert(\"Please enter  \" + this.error);\n      }\n      e.preventDefault();\n    },\n  },\n\n  async mounted() {\n    let user = localStorage.getItem(\"user-info\");\n    // console.warn(user);\n    console.warn(this.$route.params.id);\n    const result = await axios.get(\n      \"http://localhost:3000/usersById/\" + this.$route.params.id\n    );\n    // console.warn(this.$params.id);\n    this.employee = result.data;\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}